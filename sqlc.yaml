
version: "2"
sql:
  - engine: "sqlite"
    schema: "internal/sql/migrations"
    queries: "internal/sql/queries"
    gen:
      go:
        package: "db"
        out: "internal/db"
        overrides:
          # Users
          - column: "users.id"
            go_type:
              import: "github.com/google/uuid"
              package: "uuid"
              type: "UUID"

          # Refresh Tokens
          - column: "refresh_tokens.user_id"
            go_type:
              import: "github.com/google/uuid"
              package: "uuid"
              type: "UUID"

          - column: "refresh_tokens.revoked_at"
            nullable: true
            go_type:
              import: "database/sql"
              type: "NullString"

          # Transactions
          - column: "transactions.id"
            go_type:
              import: "github.com/google/uuid"
              package: "uuid"
              type: "UUID"

          - column: "transactions.user_id"
            go_type:
              import: "github.com/google/uuid"
              package: "uuid"
              type: "UUID"

